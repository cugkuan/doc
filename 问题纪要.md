
# 图片上传

> java.net.ProtocolException: expected 4830 bytes but received 8192

在上传图片的时候，偶发性的报错，而且，这个问题只存在部分手机中。
 
 **原因**

图片上传的时候，给的size 大小 和实际上传的大小不一致，导致服务器关闭了流的传输。


造成这种情况，很多，可能是多个线程对文件进行读写，文件还没有写完，就开始上传了。

**解决方式**

能找到问题的原因更好，如果早不到问题的原因。最好的方式copy一份要上传的问题。上传copy的文件。